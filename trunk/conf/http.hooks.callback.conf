# http-hooks or http-callbacks config for srs.
# @see full.conf for detail config.
#
# Multiple URLs can be specified for each hook (space-separated).
# When using environment variables, use space-separated URLs with proper quoting:
#   SRS_VHOST_HTTP_HOOKS_ON_PLAY="http://url1 http://url2"

max_connections     100000;
daemon              off;
srs_log_tank        console;

# RTMP server configuration
rtmp {
    listen              1935;
}
vhost __defaultVhost__ {
    http_hooks {
        enabled         on;
        on_publish      http://127.0.0.1:8085/api/v1/streams http://localhost:8085/api/v1/streams;
        on_unpublish    http://127.0.0.1:8085/api/v1/streams http://localhost:8085/api/v1/streams;
        on_play         http://127.0.0.1:8085/api/v1/sessions http://localhost:8085/api/v1/sessions;
        on_stop         http://127.0.0.1:8085/api/v1/sessions http://localhost:8085/api/v1/sessions;
    }
}
